From e88e5128d05b9e45d1d37d70a6f2f74aabafb791 Mon Sep 17 00:00:00 2001
From: "M. Liebmann" <tuxcode.bbg@gmail.com>
Date: Tue, 29 Dec 2015 18:28:21 +0100
Subject: [PATCH 6/9] src/system/helpers.cpp: Add function Lang2ISO639_1()

---
 src/system/helpers.cpp | 33 +++++++++++++++++++++++++++++++++
 src/system/helpers.h   |  1 +
 2 files changed, 34 insertions(+)

diff --git a/src/system/helpers.cpp b/src/system/helpers.cpp
index bae7059..b55a908 100644
--- a/src/system/helpers.cpp
+++ b/src/system/helpers.cpp
@@ -924,3 +924,36 @@ std::string getJFFS2MountPoint(int mtdPos)
 	fclose(fd);
 	return "";
 }
+
+std::string Lang2ISO639_1(std::string& lang)
+{
+	std::string ret = "";
+	if ((lang == "deutsch") || (lang == "bayrisch") || (lang == "ch-baslerdeutsch") || (lang == "ch-berndeutsch"))
+		ret = "de";
+	else if (lang == "english")
+		ret = "en";
+	else if (lang == "nederlands")
+		ret = "nl";
+	else if (lang == "slovak")
+		ret = "sk";
+	else if (lang == "bosanski")
+		ret = "bs";
+	else if (lang == "czech")
+		ret = "cs";
+	else if (lang == "francais")
+		ret = "fr";
+	else if (lang == "italiano")
+		ret = "it";
+	else if (lang == "polski")
+		ret = "pl";
+	else if (lang == "portugues")
+		ret = "pt";
+	else if (lang == "russkij")
+		ret = "ru";
+	else if (lang == "suomi")
+		ret = "fi";
+	else if (lang == "svenska")
+		ret = "sv";
+
+	return ret;
+}
diff --git a/src/system/helpers.h b/src/system/helpers.h
index 205a4f3..57eab3f 100644
--- a/src/system/helpers.h
+++ b/src/system/helpers.h
@@ -115,5 +115,6 @@ std::vector<std::string> split(const std::string &s, char delim);
 bool split_config_string(const std::string &str, std::map<std::string,std::string> &smap);
 
 std::string getJFFS2MountPoint(int mtdPos);
+std::string Lang2ISO639_1(std::string& lang);
 
 #endif
-- 
2.6.4

