From e4b91e737d289a6a7cf36e4c5cadb34fdb1975a9 Mon Sep 17 00:00:00 2001
From: "M. Liebmann" <tuxcode.bbg@gmail.com>
Date: Tue, 29 Dec 2015 18:28:33 +0100
Subject: [PATCH 8/9] tmdb: Add hintbox when search data

---
 data/locale/deutsch.locale    | 1 +
 data/locale/english.locale    | 1 +
 data/locale/nederlands.locale | 1 +
 data/locale/slovak.locale     | 1 +
 src/gui/tmdb.cpp              | 9 +++++++++
 src/system/locals.h           | 1 +
 src/system/locals_intern.h    | 1 +
 7 files changed, 15 insertions(+)

diff --git a/data/locale/deutsch.locale b/data/locale/deutsch.locale
index 9ef8bc9..217eb07 100644
--- a/data/locale/deutsch.locale
+++ b/data/locale/deutsch.locale
@@ -2326,6 +2326,7 @@ timing.infobar_radio Infobar (Radiobetrieb)
 timing.menu Menü
 timing.numericzap Umschalten mit Zifferntasten
 timing.volumebar Lautstärkeanzeige
+tmdb.read_data Suche TMDB Daten...
 unicable.lnb Unicable Eingang
 unicable.qrg Unicable Frequenz
 unicable.scr Unicable SCR
diff --git a/data/locale/english.locale b/data/locale/english.locale
index f34879a..de70a67 100644
--- a/data/locale/english.locale
+++ b/data/locale/english.locale
@@ -2326,6 +2326,7 @@ timing.infobar_radio Infobar (radio mode)
 timing.menu Menu
 timing.numericzap Numeric Zap
 timing.volumebar Volume bar
+tmdb.read_data Search TMDB Data...
 unicable.lnb Unicable Input
 unicable.qrg Unicable Frequency
 unicable.scr Unicable SCR
diff --git a/data/locale/nederlands.locale b/data/locale/nederlands.locale
index 3ba931b..68dbea5 100644
--- a/data/locale/nederlands.locale
+++ b/data/locale/nederlands.locale
@@ -2196,6 +2196,7 @@ timing.infobar_radio Infobalk (radio modus)
 timing.menu Menu
 timing.numericzap Numeriek Zap
 timing.volumebar Volume balk
+tmdb.read_data Zoeken TMDB data...
 unicable.lnb Invoer Unicable
 unicable.qrg Unicable Frequentie
 unicable.scr Unicable SCR
diff --git a/data/locale/slovak.locale b/data/locale/slovak.locale
index 9469975..9651642 100644
--- a/data/locale/slovak.locale
+++ b/data/locale/slovak.locale
@@ -2296,6 +2296,7 @@ timing.infobar_radio Stavový riadok (rádio mód)
 timing.menu Menu
 timing.numericzap Prepínanie číslami
 timing.volumebar Ukazovateľ hlasitosti
+tmdb.read_data Hľadaj TMDB dáta...
 unicable.lnb Vstup Unicable
 unicable.qrg Kmitočet Unicable
 unicable.scr SCR Unicable
diff --git a/src/gui/tmdb.cpp b/src/gui/tmdb.cpp
index 05e08d7..f295d2d 100644
--- a/src/gui/tmdb.cpp
+++ b/src/gui/tmdb.cpp
@@ -36,6 +36,7 @@
 #include "system/settings.h"
 #include "system/helpers.h"
 #include "system/set_threadname.h"
+#include "gui/widget/hintbox.h"
 
 #include <driver/screen_max.h>
 
@@ -73,10 +74,18 @@ cTmdb::cTmdb(std::string epgtitle)
 	key = g_settings.tmdb_api_key;
 #endif
 
+	CHintBox* box = new CHintBox(LOCALE_MESSAGEBOX_INFO, g_Locale->getText(LOCALE_TMDB_READ_DATA));
+	box->paint();
+
 	std::string lang = Lang2ISO639_1(g_settings.language);
 	GetMovieDetails(lang);
 	if ((minfo.result < 1 || minfo.overview.empty()) && lang != "en")
 		GetMovieDetails("en");
+
+	if (box != NULL) {
+		box->hide();
+		delete box;
+	}
 }
 
 cTmdb::~cTmdb()
diff --git a/src/system/locals.h b/src/system/locals.h
index 40592c0..8a09062 100644
--- a/src/system/locals.h
+++ b/src/system/locals.h
@@ -2353,6 +2353,7 @@ typedef enum
 	LOCALE_TIMING_MENU,
 	LOCALE_TIMING_NUMERICZAP,
 	LOCALE_TIMING_VOLUMEBAR,
+	LOCALE_TMDB_READ_DATA,
 	LOCALE_UNICABLE_LNB,
 	LOCALE_UNICABLE_QRG,
 	LOCALE_UNICABLE_SCR,
diff --git a/src/system/locals_intern.h b/src/system/locals_intern.h
index 41fb6f9..1105b3e 100644
--- a/src/system/locals_intern.h
+++ b/src/system/locals_intern.h
@@ -2353,6 +2353,7 @@ const char * locale_real_names[] =
 	"timing.menu",
 	"timing.numericzap",
 	"timing.volumebar",
+	"tmdb.read_data",
 	"unicable.lnb",
 	"unicable.qrg",
 	"unicable.scr",
-- 
2.6.4

